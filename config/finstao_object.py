'''
tweet_data = {
    "code": 0,
    "data": {
        "list": [{
            "tweet": {
                "id": 32040942209,
                "content": "我大A的韭菜们也是这种心理吧😂",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 26,  # 浏览
                "like_count": 16,  # 点赞
                "sub_count": 1,  # 评论
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1590018462000,
                "update_time": 1590018462000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709674,
                    "url": "//img.finstao.com/dd11b12d5b.jpg",
                    "size": 243426,
                    "width": 690,
                    "height": 1001
                }, {
                    "id": 709675,
                    "url": "//img.finstao.com/3930c76b9c.gif",
                    "size": 4693029,
                    "width": 371,
                    "height": 371
                }],
                "user": {
                    "id": 253739,
                    "password": true,
                    "mobile": "186*****681",
                    "email": "",
                    "create_time": 1512786157000,
                    "update_time": 1557392967000,
                    "avatar_id": 1090,
                    "nickname": "许鹏",
                    "gender": 1,
                    "intro": "造物之前，必先造人。",
                    "birthday": "",
                    "company": "海通证券",
                    "job": "投资经理",
                    "domain": "xupeng",
                    "level": 1,
                    "vip": 0,
                    "admin": 1,
                    "like_count": 4067,
                    "write_count": 36,
                    "followee_count": 523,
                    "follower_count": 248,
                    "avatar": "//img.finstao.com/ef08c9af3b.jpg",
                    "area": {
                        "province": {
                            "id": 2000,
                            "name": "北京市"
                        },
                        "country": {
                            "id": 1000,
                            "name": "中国"
                        },
                        "id": 2000
                    },
                    "is_recommend": true,
                    "is_admin": true
                },
                "topics": []
            }
        }, {
            "tweet": {
                "id": 69313323943,
                "content": "中国零售业务做得最好的银行——招商银行的客户资产分布。\n\n占比不到2%的客户，占有了整个零售客户总资产的81.2%。\n\n我们熟悉的20—80原则，变成了2—80原则。",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 12,
                "like_count": 17,
                "sub_count": 0,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1590017546000,
                "update_time": 1590017546000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709660,
                    "url": "//img.finstao.com/88114424c5.jpg",
                    "size": 196342,
                    "width": 750,
                    "height": 1135
                }],
                "user": {
                    "id": 884815,
                    "password": true,
                    "mobile": "186*****682",
                    "email": "",
                    "create_time": 1512786473000,
                    "update_time": 1557393491000,
                    "avatar_id": 1091,
                    "nickname": "Herman Wu",
                    "gender": 1,
                    "intro": "",
                    "birthday": "",
                    "company": "上海银行",
                    "job": "投资银行部",
                    "domain": "laotang",
                    "level": 1,
                    "vip": 0,
                    "admin": 1,
                    "like_count": 3245,
                    "write_count": 45,
                    "followee_count": 370,
                    "follower_count": 420,
                    "avatar": "//img.finstao.com/7eb27675f5.jpg",
                    "area": {
                        "province": {
                            "id": 2857,
                            "name": "上海市"
                        },
                        "country": {
                            "id": 1000,
                            "name": "中国"
                        },
                        "id": 2857
                    },
                    "is_realname_verified": true,
                    "is_recommend": true,
                    "is_admin": true
                },
                "topics": [{
                    "id": 1002,
                    "parent_id": 1000,
                    "logo": {
                        "id": 346488,
                        "url": "//img.finstao.com/471dbf80ab.jpg",
                        "size": 153240,
                        "width": 500,
                        "height": 500
                    },
                    "name": "股份制银行",
                    "follow_count": 1605
                }, {
                    "id": 1059,
                    "parent_id": 1048,
                    "logo": {
                        "id": 346545,
                        "url": "//img.finstao.com/e0a5843f37.jpg",
                        "size": 57019,
                        "width": 500,
                        "height": 500
                    },
                    "name": "招商银行",
                    "follow_count": 58
                }]
            }
        }, {
            "tweet": {
                "id": 22371928354,
                "content": "19年上市公司毛利率百强榜，茅台竟然排在17没进前十😱",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 6,
                "like_count": 10,
                "sub_count": 0,
                "anonymous": 1,
                "level": 0,
                "status": 0,
                "create_time": 1589983558000,
                "update_time": 1589983558000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709468,
                    "url": "//img.finstao.com/d06be45b61.jpg",
                    "size": 2959567,
                    "width": 750,
                    "height": 7081
                }],
                "user": {
                    "id": "",
                    "avatar": "//img.finstao.com/avatar_male.jpg",
                    "nickname": "匿名用户",
                    "company": "",
                    "job": "",
                    "mobile": "",
                    "email": ""
                },
                "topics": [{
                    "id": 1005,
                    "parent_id": 1000,
                    "logo": {
                        "id": 346491,
                        "url": "//img.finstao.com/2eeafca7fb.jpg",
                        "size": 168361,
                        "width": 500,
                        "height": 500
                    },
                    "name": "证券圈",
                    "follow_count": 3229
                }, {
                    "id": 1025,
                    "parent_id": 1000,
                    "logo": {
                        "id": 346511,
                        "url": "//img.finstao.com/fbb73365ec.jpg",
                        "size": 237632,
                        "width": 500,
                        "height": 500
                    },
                    "name": "上市公司",
                    "follow_count": 2806
                }]
            }
        }, {
            "tweet": {
                "id": 39156751086,
                "content": "跟着党走果然没错，18号买入，今天卖出，可惜实盘只买了两百股，只能赚点零花钱，资本原始积累实在是太难了。",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 20,
                "like_count": 10,
                "sub_count": 0,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589976509000,
                "update_time": 1589976509000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709305,
                    "url": "//img.finstao.com/81a673f016.jpg",
                    "size": 84839,
                    "width": 1080,
                    "height": 1920
                }, {
                    "id": 709304,
                    "url": "//img.finstao.com/85894c475e.jpg",
                    "size": 108775,
                    "width": 1080,
                    "height": 1920
                }],
                "user": {
                    "id": 472739,
                    "password": true,
                    "mobile": "187*****720",
                    "email": "715785351@qq.com",
                    "create_time": 1568710425000,
                    "update_time": 1586747606000,
                    "avatar_id": 642224,
                    "nickname": "金融小菜鸡",
                    "gender": 1,
                    "intro": "当浑浊是一种常态，清白便是一种罪。",
                    "birthday": 909936000000,
                    "company": "河北经贸大学",
                    "job": "学生",
                    "domain": "",
                    "level": 1,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 364,
                    "write_count": 18,
                    "followee_count": 6,
                    "follower_count": 15,
                    "avatar": "//img.finstao.com/84580efd9d.jpg",
                    "area": {
                        "city": {
                            "id": 2037,
                            "name": "石家庄市"
                        },
                        "province": {
                            "id": 2036,
                            "name": "河北省"
                        },
                        "country": {
                            "id": 1000,
                            "name": "中国"
                        },
                        "id": 2037
                    }
                },
                "topics": []
            }
        }, {
            "tweet": {
                "id": 47619030923,
                "content": "哈哈哈哈哈哈哈",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 2,
                "like_count": 13,
                "sub_count": 0,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589972328000,
                "update_time": 1589972328000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709199,
                    "url": "//img.finstao.com/0358abd32a.jpg",
                    "size": 246143,
                    "width": 1065,
                    "height": 1736
                }],
                "user": {
                    "id": 153296,
                    "password": true,
                    "mobile": "171*****855",
                    "email": "",
                    "create_time": 1569306965000,
                    "update_time": 1589972291000,
                    "avatar_id": 328778,
                    "nickname": "孙昊",
                    "gender": 1,
                    "intro": "",
                    "birthday": "",
                    "company": "天津银行",
                    "job": "",
                    "domain": "",
                    "level": 0,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 13,
                    "write_count": 0,
                    "followee_count": 0,
                    "follower_count": 0,
                    "avatar": "//img.finstao.com/f1e16fb48f.jpg"
                },
                "topics": []
            }
        }, {
            "tweet": {
                "id": 80023096440,
                "content": "世间再无“包商银行”",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 5,
                "like_count": 6,
                "sub_count": 0,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589966280000,
                "update_time": 1589966280000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709072,
                    "url": "//img.finstao.com/abac2eacd4.jpg",
                    "size": 172352,
                    "width": 554,
                    "height": 451
                }],
                "user": {
                    "id": 655206,
                    "password": true,
                    "mobile": "171*****447",
                    "email": "",
                    "create_time": 1569306028000,
                    "update_time": 1588405876000,
                    "avatar_id": 0,
                    "nickname": "Bobby zeng",
                    "gender": 1,
                    "intro": "",
                    "birthday": "",
                    "company": "某地产集团",
                    "job": "财务部",
                    "domain": "",
                    "level": 0,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 76,
                    "write_count": 0,
                    "followee_count": 0,
                    "follower_count": 3,
                    "avatar": "//img.finstao.com/avatar_male.jpg"
                },
                "topics": [{
                    "id": 1072,
                    "parent_id": 1048,
                    "logo": {
                        "id": 346558,
                        "url": "//img.finstao.com/0cdb923a45.jpg",
                        "size": 26491,
                        "width": 300,
                        "height": 300
                    },
                    "name": "包商银行",
                    "follow_count": 34
                }]
            }
        }, {
            "tweet": {
                "id": 40708295631,
                "content": "狗不理集团董事长张彦森曾表示：一定打破一个思想，就是老字号就是便宜，一定要有一定的利润空间”。\n\n如今来看，老字号餐饮需要找到年轻化的突破口，不能总是‘倚老卖老’，否则在年轻的新一代消费者面前，真的是人都不会理了！",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 22,
                "like_count": 9,
                "sub_count": 0,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589965089000,
                "update_time": 1589965089000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 709042,
                    "url": "//img.finstao.com/d9d1e7e62c.jpg",
                    "size": 260114,
                    "width": 1080,
                    "height": 809
                }, {
                    "id": 709041,
                    "url": "//img.finstao.com/81cfcfb05b.jpg",
                    "size": 94140,
                    "width": 1080,
                    "height": 491
                }, {
                    "id": 709040,
                    "url": "//img.finstao.com/ed094d8a0f.jpg",
                    "size": 70392,
                    "width": 1080,
                    "height": 663
                }],
                "user": {
                    "id": 408485,
                    "password": true,
                    "mobile": "171*****880",
                    "email": "",
                    "create_time": 1569301766000,
                    "update_time": 1588752935000,
                    "avatar_id": 685337,
                    "nickname": "孙诗蕾",
                    "gender": 2,
                    "intro": "",
                    "birthday": 731347200000,
                    "company": "",
                    "job": "",
                    "domain": "",
                    "level": 0,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 17,
                    "write_count": 0,
                    "followee_count": 3,
                    "follower_count": 2,
                    "avatar": "//img.finstao.com/4251338a4c.jpg",
                    "area": {
                        "province": {
                            "id": 2857,
                            "name": "上海市"
                        },
                        "country": {
                            "id": 1000,
                            "name": "中国"
                        },
                        "id": 2857
                    }
                },
                "topics": []
            }
        }, {
            "tweet": {
                "id": 52505719980,
                "content": "",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 29,
                "like_count": 17,
                "sub_count": 3,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589959339000,
                "update_time": 1589959339000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 708895,
                    "url": "//img.finstao.com/7aaf4d18d6.jpg",
                    "size": 156298,
                    "width": 1266,
                    "height": 785
                }],
                "user": {
                    "id": 224650,
                    "password": true,
                    "mobile": "171*****917",
                    "email": "",
                    "create_time": 1569309214000,
                    "update_time": 1589265728000,
                    "avatar_id": 676244,
                    "nickname": "高艺",
                    "gender": 1,
                    "intro": "",
                    "birthday": "",
                    "company": "",
                    "job": "",
                    "domain": "",
                    "level": 0,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 140,
                    "write_count": 0,
                    "followee_count": 3,
                    "follower_count": 2,
                    "avatar": "//img.finstao.com/c917f62871.jpg"
                },
                "topics": [{
                    "id": 1012,
                    "parent_id": 1000,
                    "logo": {
                        "id": 346498,
                        "url": "//img.finstao.com/136fb611be.jpg",
                        "size": 226194,
                        "width": 500,
                        "height": 500
                    },
                    "name": "私募基金",
                    "follow_count": 2618
                }]
            }
        }, {
            "tweet": {
                "id": 70927600227,
                "content": "👍👍",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 21,
                "like_count": 4,
                "sub_count": 1,
                "anonymous": 0,
                "level": 0,
                "status": 0,
                "create_time": 1589955691000,
                "update_time": 1589955691000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 708823,
                    "url": "//img.finstao.com/6c5c051eb2.jpg",
                    "size": 430765,
                    "width": 1090,
                    "height": 1080
                }],
                "user": {
                    "id": 323402,
                    "password": true,
                    "mobile": "171*****419",
                    "email": "",
                    "create_time": 1569299355000,
                    "update_time": 1589869712000,
                    "avatar_id": 707308,
                    "nickname": "木木",
                    "gender": 2,
                    "intro": "",
                    "birthday": "",
                    "company": "",
                    "job": "",
                    "domain": "",
                    "level": 0,
                    "vip": 0,
                    "admin": 0,
                    "like_count": 69,
                    "write_count": 0,
                    "followee_count": 0,
                    "follower_count": 2,
                    "avatar": "//img.finstao.com/e2786e185f.jpg"
                },
                "topics": []
            }
        }, {
            "tweet": {
                "id": 25556737837,
                "content": "有点慌，武汉有1100万人，那就是有50万？群体免疫？",
                "forward_count": 0,
                "favor_count": 0,
                "view_count": 49,
                "like_count": 12,
                "sub_count": 3,
                "anonymous": 1,
                "level": 0,
                "status": 0,
                "create_time": 1589955387000,
                "update_time": 1589955387000,
                "can_share": true,
                "has_like": false,
                "has_favor": false,
                "images": [{
                    "id": 708812,
                    "url": "//img.finstao.com/598700c1ea.jpg",
                    "size": 108057,
                    "width": 440,
                    "height": 871
                }],
                "user": {
                    "id": "",
                    "avatar": "//img.finstao.com/avatar_female.jpg",
                    "nickname": "匿名用户",
                    "company": "",
                    "job": "",
                    "mobile": "",
                    "email": ""
                },
                "topics": [{
                    "id": 1485,
                    "parent_id": 1469,
                    "logo": {
                        "id": 346949,
                        "url": "//img.finstao.com/eff2401988.jpg",
                        "size": 284857,
                        "width": 800,
                        "height": 800
                    },
                    "name": "湖北金融圈",
                    "follow_count": 453
                }]
            }
        }],
        "pager": {
            "page": 2,
            "count": 523,
            "page_size": 10,
            "total_size": 5225
        }
    },
    "msg": "success",
    "ts": 1590069789402
}

# POST方法，URL为https://api.finstao.com/v1/tweet/comment/list
# FORMDATA为：{
# 	"page": 1,
# 	"seed": 1590110264352,
# 	"counter": 1,
# 	"query": "",
# 	"page_size": 10,
# 	"sort_by": "create_time",
# 	"sort_order": "desc",
# 	"tweet_id": 88893738155,
# 	"all": 1,
# 	"access_token": "e0768c70-9a9d-11ea-8666-a9e6ccd396b9",
# 	"os_name": "android",
# 	"os_version": 23,
# 	"app_version": "2.5.4",
# 	"app_channel": "oppo",
# 	"brand_name": "oppo",
# 	"unique_id": "fbb3c34c3b8c320d",
# 	"net_type": 1
# }
comment = {
    "code": 0,
    "data": {
        "list": [{
            "id": 91849020547,
            "like_count": 1,
            "sub_count": 0,
            "level": 0,
            "status": 0,
            "create_time": 1590106148000,
            "update_time": 1590106148000,
            "content": "就是慈禧带过货的狗不理么",   # 评论内容
            "has_like": false,
            "tweet": {                          # 原文内容
                "id": 88893738155,
                "content": "狗不理退市，人也不理了\n本地人不吃，外地人最多吃一回\n朋友去天津出差，出租司机劝别吃狗不理，问别人推荐啥，只说别吃狗不理，这还能好得了吗？\n\n这个狗不理包子，它究竟好在哪？\n它是薄皮儿、大馅儿、十八个褶儿，就像一朵花。\n可惜那是过去式…… ​",
                "status": 0
            },
            "user": {                           # 评论者
                "id": 801128,
                "password": true,
                "mobile": "184*****024",
                "email": "",
                "create_time": 1561969595000,
                "update_time": 1586683269000,
                "avatar_id": 188154,
                "nickname": "Adalyn",
                "gender": 2,
                "intro": "",
                "birthday": "",
                "company": "私募",
                "job": "基金经理",
                "domain": "",
                "level": 1,
                "vip": 0,
                "admin": 2,
                "like_count": 545,
                "write_count": 17,
                "followee_count": 229,
                "follower_count": 76,
                "avatar": "//img.finstao.com/806066eb40.jpg",
                "is_admin": true,
                "is_senior_admin": true
            }
        }],
        "pager": {
            "page": 1,
            "count": 1,
            "page_size": 10,
            "total_size": 1
        }
    },
    "msg": "success",
    "ts": 1590110264311
}
'''

import time


class UserAvatar:

    def __init__(
            self,
            _id: str,
            file_name: str,
            extension_type: str,
            file_byte: bytes = None,
            status: str = 'undo'
    ):
        self._id = _id
        self.file_name = file_name
        self.extension_type = extension_type
        self.file_byte = file_byte
        self.status = status

    def do_dump(self):
        elements = [one for one in dir(self) if not (one.startswith('__') or one.startswith('do_'))]
        data = {}
        for name in elements:
            data[name] = getattr(self, name, None)
        return data


class UserProfile:

    def __init__(
            self,
            _id: str,
            intro: str,
            nickname: str,
            email: str,
            idtype: str,
            position: str,
            industry: str,
            company: str,
            placebelong: str,
            address: str,
            gender: int = 0,
            status: str = 'undo',
            create_time: int = int(time.time() * 1000),
            update_time: int = int(time.time() * 1000),
    ):
        self._id = _id
        self.intro = intro
        self.nickname = nickname
        self.email = email
        self.idtype = idtype
        self.position = position
        self.industry = industry
        self.company = company
        self.placebelong = placebelong
        self.address = address
        self.gender = gender
        self.status = status
        self.create_time = str(create_time)
        self.update_time = str(update_time)

    def do_dump(self):
        elements = [one for one in dir(self) if not (one.startswith('__') or one.startswith('do_'))]
        data = {}
        for name in elements:
            data[name] = getattr(self, name, None)
        return data



class TweetPhoto:

    def __init__(
            self,
            _id: str,
            user_wid: str,
            tweet_wid: str,
            file_name: str,
            extension_type: str,
            size: int = 0,
            file_byte: bytes = None,
            create_time: int = int(time.time() * 1000),
            status: str = 'undo',
    ):
        self._id = _id
        self.user_wid = user_wid
        self.tweet_wid = tweet_wid
        self.file_name = file_name
        self.extension_type = extension_type
        self.size = size
        self.file_byte = file_byte
        self.create_time = str(create_time)
        self.status = status

    def do_dump(self):
        elements = [one for one in dir(self) if not (one.startswith('__') or one.startswith('do_'))]
        data = {}
        for name in elements:
            data[name] = getattr(self, name, None)
        return data

class TweetComment:

    def __init__(
            self,
            _id: str,
            tweet_wid: str,
            comment: str,
            commenter_wid: str,
            nickname: str,
            position: str,
            company: str,

            commentat_wid: str,

            like_count: int = 0,
            create_time: int = int(time.time() * 1000),
            status: str = 'undo',
    ):
        self._id = _id
        self.tweet_wid = tweet_wid
        self.comment = comment
        self.commenter_wid = commenter_wid
        self.nickname = nickname
        self.position = position
        self.company = company

        self.commentat_wid = commentat_wid

        self.like_count = like_count
        self.create_time = str(create_time)
        self.status = status

    def do_dump(self):
        elements = [one for one in dir(self) if not (one.startswith('__') or one.startswith('do_'))]
        data = {}
        for name in elements:
            data[name] = getattr(self, name, None)
        return data

class Tweet:

    def __init__(
            self,
            _id: str,
            user_wid: str,
            nickname: str,
            position: str,
            company: str,

            content: str,
            tweet_photos: str,
            tweet_comments: str,

            anonymous: int = 0,

            can_share: bool = False,
            share_count: int = 0,

            favor_count: int = 0,
            like_count: int = 0,
            view_count: int = 0,
            comment_count: int = 0,

            create_time: int = int(time.time() * 1000),
            update_time: int = int(time.time() * 1000),
            status: str = 'undo',
    ):
        self._id = _id
        self.user_wid = user_wid
        self.nickname = nickname
        self.position = position
        self.company = company

        self.content = content
        self.tweet_photos = tweet_photos
        self.tweet_comments = tweet_comments
        self.anonymous = anonymous

        self.can_share = can_share
        self.share_count = share_count

        self.favor_count = favor_count
        self.view_count = view_count
        self.like_count = like_count
        self.comment_count = comment_count

        self.create_time = str(create_time)
        self.update_time = str(update_time)
        self.status = status

    def do_dump(self):
        elements = [one for one in dir(self) if not (one.startswith('__') or one.startswith('do_'))]
        data = {}
        for name in elements:
            data[name] = getattr(self, name, None)
        return data

